# marp-slide-creation

Marpスライドを作成する際に、**最初からオーバーフローしない**適切な分量とフォーマットを適用する専門スキルです。

## 概要

このスキルは、Marpスライド作成時にオーバーフローを防止するための厳格なルールとガイドラインを提供します。スライドを追加・編集する際は、このスキルのルールを**必ず遵守**してください。

## 基本原則

### 1. フォントサイズの自動選択ルール

**項目数に基づく自動選択**:

| 項目数 | 推奨フォントサイズ | クラス指定 |
|-------|---------------|-----------|
| 1-5項目 | 24-26px | `font-small` |
| 6-9項目 | 20px | `font-xsmall` |
| 10-14項目 | 18px | `font-xsmall` + `compact-list` |
| 15-18項目 | 16px | `font-xxsmall` + `compact-list` |
| 19項目以上 | 16px | `font-xxsmall` + 2-3カラム + `compact-list` |

### 2. テキスト量の制限

**1スライドあたりの推奨テキスト量**:

| フォントサイズ | 日本語文字数 | 英単語数 | リスト項目数 |
|------------|----------|---------|-----------|
| font-large | 200-300字 | 100-150語 | 5-7項目 |
| font-medium | 300-400字 | 150-200語 | 8-10項目 |
| font-small | 400-500字 | 200-250語 | 10-12項目 |
| font-xsmall | 500-600字 | 250-300語 | 12-15項目 |
| font-xxsmall | 600-700字 | 300-350語 | 15-18項目 |

### 3. レイアウトの自動判定

**項目数に基づくレイアウト選択**:

```
項目数 ≤ 5:   シングルカラム
項目数 6-12:  シングルカラム + font-xsmall
項目数 13-16: 2カラム (各カラム6-8項目)
項目数 17-21: 3カラム (各カラム5-7項目)
項目数 ≥ 22:  スライド分割を検討
```

## 実践ルール

### ルール1: 新規スライド作成時のチェックリスト

スライドを作成する前に、以下を確認：

- [ ] **コンテンツ量を見積もる**: 項目数、文字数をカウント
- [ ] **フォントサイズを決定**: 上記の表に基づいて選択
- [ ] **レイアウトを決定**: 項目数に応じて1/2/3カラムを選択
- [ ] **compact-listの必要性**: 10項目以上なら適用
- [ ] **step-cardsの数**: 4つ以下に制限

### ルール2: 危険信号（オーバーフローしやすいパターン）

以下のパターンは**避ける**:

❌ **危険パターン1**: font-medium で10項目以上のリスト
❌ **危険パターン2**: 2カラムで各カラム10項目以上
❌ **危険パターン3**: step-cardsが5つ以上
❌ **危険パターン4**: warning-box/info-boxが複数（2つ以上）
❌ **危険パターン5**: 見出し（H2/H3）が4つ以上

### ルール3: 安全パターン（推奨）

✅ **安全パターン1**: 6項目以上のリストは font-xsmall + compact-list
```markdown
<!-- _class: font-xsmall -->

## タイトル

<div class="compact-list">

- 項目1
- 項目2
- ...（最大15項目）

</div>
```

✅ **安全パターン2**: 10項目以上は2カラム
```markdown
<!-- _class: font-xsmall -->

## タイトル

<div class="columns">
<div>

### 左カラム
- 項目1-7

</div>
<div>

### 右カラム
- 項目1-7

</div>
</div>
```

✅ **安全パターン3**: 15項目以上は3カラム + compact-list
```markdown
<!-- _class: font-xxsmall -->

## タイトル

<div class="columns-3">
<div class="compact-list">

**カテゴリ1**
- 項目1-5

</div>
<div class="compact-list">

**カテゴリ2**
- 項目1-5

</div>
<div class="compact-list">

**カテゴリ3**
- 項目1-5

</div>
</div>
```

✅ **安全パターン4**: step-cardsは最大4つ
```markdown
<!-- _class: font-small -->

## プロセス

<div class="step-cards">

<div class="step-card">

#### ステップ1
説明（50字以内）

</div>

<div class="step-card">

#### ステップ2
説明（50字以内）

</div>

<div class="step-card">

#### ステップ3
説明（50字以内）

</div>

<div class="step-card">

#### ステップ4
説明（50字以内）

</div>

</div>
```

## 作成ワークフロー

### ステップ1: コンテンツ設計

1. **項目をリストアップ**: すべての項目を書き出す
2. **項目数をカウント**: 正確な数を把握
3. **カテゴリ分け**: 10項目以上なら2-3カテゴリに分類
4. **優先順位付け**: 18項目超なら削減を検討

### ステップ2: フォーマット決定

```
IF 項目数 ≤ 5:
    font-size = "font-small"
    layout = "single-column"

ELSE IF 項目数 ≤ 9:
    font-size = "font-xsmall"
    layout = "single-column"

ELSE IF 項目数 ≤ 12:
    font-size = "font-xsmall"
    layout = "single-column"
    class = "compact-list"

ELSE IF 項目数 ≤ 16:
    font-size = "font-xsmall"
    layout = "2-columns"
    class = "compact-list"

ELSE IF 項目数 ≤ 21:
    font-size = "font-xxsmall"
    layout = "3-columns"
    class = "compact-list"

ELSE:
    action = "スライドを分割"
```

### ステップ3: 作成と確認

1. **スライドを作成**: 決定したフォーマットで作成
2. **自己チェック**: 以下を確認
   - [ ] クラス指定が正しいか（`<!-- _class: font-xsmall -->`）
   - [ ] compact-listが適用されているか（10項目以上の場合）
   - [ ] カラム分けが適切か（項目数均等）
   - [ ] 各step-cardの説明が簡潔か（50字以内）
3. **報告**: 「このスライドはfont-xsmallで12項目、オーバーフローリスク: 低」

## 実例比較

### ❌ Before（オーバーフローしやすい）

```markdown
<!-- _class: font-small -->

## Canvas + CodePen活用例

<div class="columns">
<div>

### 社内ツール
- 経費申請フォーム
- タスク管理ボード
- 勤怠入力画面
- アンケートフォーム

### 研修・教育
- クイズアプリ
- フラッシュカード
- 進捗トラッカー
- 理解度チェック

</div>
<div>

### マーケティング
- ランディングページ
- キャンペーンサイト
- 診断コンテンツ
- 商品カタログ

### コミュニケーション
- イベント告知ページ
- FAQ集
- 社内Wiki
- ニュースレター

</div>
</div>
```

**問題点**:
- 項目数: 16項目（多すぎ）
- フォント: font-small（大きすぎ）
- レイアウト: 2カラムで各8項目（密集）
- compact-list: なし
- **予想オーバーフロー: 337px**

### ✅ After（オーバーフローしにくい）

```markdown
<!-- _class: font-xxsmall -->

## Canvas + CodePen活用例

<div class="columns-3">
<div class="compact-list">

**社内ツール**
- 経費申請フォーム
- タスク管理ボード

**研修**
- クイズアプリ
- 進捗トラッカー

</div>
<div class="compact-list">

**マーケティング**
- ランディングページ
- 診断コンテンツ

**営業**
- 提案書生成
- 見積作成

</div>
<div class="compact-list">

**コミュニケーション**
- FAQ集
- 社内Wiki

**その他**
- データ分析
- レポート作成

</div>
</div>
```

**改善点**:
- 項目数: 12項目（適切に削減）
- フォント: font-xxsmall（適切）
- レイアウト: 3カラムで各4項目（均等）
- compact-list: あり
- **実測オーバーフロー: 108px（68%改善）**

## 特殊ケースの対応

### ケース1: 長い説明が必要な場合

**解決策**: info-box/warning-boxを使うが、1スライド1つまで

```markdown
<!-- _class: font-small -->

## 重要な注意点

<div class="warning-box">

**制限事項**: この機能は実験的機能です。完全な互換性は保証されません。

</div>

### その他のポイント
- ポイント1（簡潔に）
- ポイント2（簡潔に）
```

### ケース2: コード例を含む場合

**解決策**: コードブロックは小さくし、説明は最小限に

```markdown
<!-- _class: font-xsmall -->

## プロンプト例

\`\`\`
プロンプト例（3-5行以内）
\`\`\`

**ポイント**:
- 簡潔な説明1
- 簡潔な説明2
```

### ケース3: 比較表を含む場合

**解決策**: 2カラムレイアウト + compact-list

```markdown
<!-- _class: font-xsmall -->

## できること vs できないこと

<div class="columns">
<div class="compact-list">

### ✅ できること
- 項目1
- 項目2（最大7項目）

</div>
<div class="compact-list">

### ❌ できないこと
- 項目1
- 項目2（最大7項目）

</div>
</div>
```

## チェックツールの使用

### オーバーフローチェックコマンド

スライド作成後、必ず以下を実行：

```bash
bun run scripts/check/check-overflow.js src/slides/[ファイル名].md
```

### 合格基準

- ✅ **理想**: オーバーフロー 0px
- ✅ **許容**: オーバーフロー ≤ 50px
- ⚠️ **要改善**: オーバーフロー 51-100px
- ❌ **不合格**: オーバーフロー > 100px

## まとめ

### 必須ルール（厳守）

1. **項目数カウント**: 必ず数える
2. **フォントサイズ選択**: 表に基づいて選択
3. **10項目以上**: compact-list必須
4. **15項目以上**: 2-3カラム必須
5. **作成後チェック**: オーバーフローツール実行

### 推奨プラクティス

1. **事前設計**: コンテンツを書き出してから構造決定
2. **段階的作成**: 1スライドずつ作成・確認
3. **早期チェック**: 3-5スライドごとにオーバーフロー確認
4. **削減優先**: 迷ったら項目を減らす

### 報告フォーマット

スライド作成後、以下の形式で報告：

```
✅ スライド作成完了: topic-XX-example.md
- 新規スライド数: 5枚
- フォントサイズ: font-xsmall (3枚), font-small (2枚)
- レイアウト: 2カラム (2枚), シングル (3枚)
- 予想オーバーフローリスク: 低（すべて15項目以内）
- チェック済み: オーバーフロー 0px (5枚中5枚)
```

## バージョン情報

- **作成日**: 2025-11-25
- **バージョン**: 1.0
- **対象**: Marpスライド全般
- **プロジェクト**: keiz-2026

---

**重要**: このスキルのルールは、すべてのMarpスライド作成・編集時に**必ず適用**してください。ルールを守ることで、オーバーフロー修正の手戻りを防ぎ、効率的なスライド作成が可能になります。
